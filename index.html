<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Panel Seguro</title>
</head>
<body>

<h2>Ingresar al sistema</h2>

<label>Email autorizado:</label><br>
<input type="email" id="emailInput" placeholder="tu_email@gmail.com"><br><br>

<button onclick="enterSystem()">Entrar</button>

<hr>

<h2>Datos</h2>
<pre id="dataBox">No has iniciado sesi√≥n</pre>

<script>
  async function enterSystem() {
    const email = document.getElementById("emailInput").value.trim();

    if (!email) {
      alert("Escribe tu email autorizado");
      return;
    }

    const URL = "https://script.google.com/macros/s/AKfycbx6j4DwX9zpE7zzPhifTMbpuDWcmUtM35agL48qhhb8ABY29y1IWc2ayAxMBMfyTPXH/exec?email=" + encodeURIComponent(email);

    try {
      const res = await fetch(URL);
      const data = await res.json();

      if (!data.success) {
        document.getElementById("dataBox").textContent = "NO AUTORIZADO";
        return;
      }

      document.getElementById("dataBox").textContent =
        JSON.stringify(data.data, null, 2);

    } catch (err) {
      document.getElementById("dataBox").textContent = "Error conectando al servidor";
    }
  }
</script>

</body>
</html>
